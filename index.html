<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>LTH&#39;s note book</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="kyjo2014">
  
  
  <meta name="description" content="html|css|javascript|LTH&apos;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="LTH's note book">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="LTH's note book">
<meta property="og:description" content="html|css|javascript|LTH&apos;s blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LTH's note book">
<meta name="twitter:description" content="html|css|javascript|LTH&apos;s blog">
  
    <link rel="alternate" href="/atom.xml" title="LTH&#39;s note book" type="application/atom+xml">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">LTH&#39;s note book</a></h1>
    <p><a href="/">逗逼+未来の程序员</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/Reading">Reading</a></li>
      
        <li><a href="/about">About</a></li>
      
        <li><a href="/testing">TestArea</a></li>
      
      
        <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content">




  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/03/17/HTML标签语义化概略/">
  <time datetime="2016-03-16T16:09:35.000Z">
    2016-03-17
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2016/03/17/HTML标签语义化概略/">HTML标签语义化概略</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>##详细介绍请看：<br>–<a href="http://www.ccjk.com/html5%E6%96%B0%E5%A2%9E%E6%A0%87%E7%AD%BE%E7%9A%84%E6%B1%87%E6%80%BB%E4%B8%8E%E8%AF%A6%E8%A7%A3/" target="_blank" rel="external">http://www.ccjk.com/html5%E6%96%B0%E5%A2%9E%E6%A0%87%E7%AD%BE%E7%9A%84%E6%B1%87%E6%80%BB%E4%B8%8E%E8%AF%A6%E8%A7%A3/</a></p>
<ol>
<li>‘<article>‘  定义独立的内容，如论坛帖子、报纸文章、博客条目、用户评论等内容。</article></li>
<li>‘<aside>‘定义两栏或多栏页面的侧边栏内容，如联系我们、客服、网站公告等内容。</aside></li>
<li>‘<audio>‘定义音频内容，如音乐或其他音频流。<br>autoplay    autoplay    自动播放。<br>controls    controls    显示控件。<br>loop    loop    自动重播。<br>preload preload 预备播放。如果使用 “autoplay”，则忽略该属性。<br>src url 音频的URL。<br>支持HTML5的全局属性和事件属性。<br>‘<br>&lt;!– <audio src="”audio.wav”"><br>您的浏览器不支持 audio 标签。（注：可以在开始标签和结束标签之间加上此文本内容，这样若浏览器不支持此元素，就可以显示出这个信息。）</audio></audio></li>
</ol>
<p> –&gt;’</p>
<ol>
<li>‘<code><!-- <canvas> --></code>‘定义图形，如图表和其他图像。（注：<canvas> 只是图形容器，我们必须使用脚本来绘制图形。）</canvas></li>
<li>‘<code><!-- <command> --></code>‘标记定义一个命令按钮，比如单选按钮、复选框或按钮。只有当 command 元素位于 menu 元素内时，该元素才是可见的。否则不会显示这个元素，但是可以用它规定键盘快捷键。</li>
<li>‘<code><!-- <datalist> --></code>‘定义选项列表，需与 input 元素配合使用，通过input 元素的 list 属性来绑定，用来定义 input 可能的值。datalist 及其选项不会被显示出来，它仅仅是合法的输入值列表。</li>
<li>‘<code><details></details></code>‘用于描述文档或文档某个部分的细节。</li>
<li>‘ <code><embed></code>‘定义外部的可交互的内容或插件。</li>
<li>‘<code><figure></figure></code>‘定义一组媒体内容（图像、图表、照片、代码等）以及它们的标题。如果被删除，则不应对文档流产生影响。</li>
<li>‘<code><footer></footer></code>‘定义一个页面或一个区域的页脚。可包含文档的作者姓名、创作日期或者联系信息。</li>
<li>‘<code><header></header></code>‘定义一个页面或一个区域的头部。</li>
<li>‘<code><hgroup></hgroup></code>‘定义文件中一个区块的相关信息，使用 <hgroup> 标签对网页或区段（section）的标题进行组合。</hgroup></li>
<li>‘<code><keygen></code>‘定义表单里一个生成的键值。规定用于表单的密钥对生成器字段。当提交表单时，私钥存储在本地，公钥发送到服务器。</li>
<li>‘<code><mark></mark></code>‘定义有标记的文本。请在需要突出显示文本时使用此标签。</li>
<li>‘<code><meter></meter></code>‘定义度量衡。仅用于已知最大和最小值的度量。（注：必须定义度量的范围，既可以在元素的文本中，也可以在 min/max 属性中定义。）</li>
<li>‘<code><nav></nav></code>‘定义导航链接。（注：如果文档中有“前后”按钮，则应该把它放到 <nav> 元素中。）</nav></li>
<li>‘<code><output></output></code>‘定义不同类型的输出，比如脚本的输出。</li>
<li>‘<code><progress></progress></code>‘定义任务（如下载）的过程，可以使用此标签来显示 JavaScript 中耗费时间的函数的进度。</li>
<li>‘<code><section></section></code>‘定义文档中的节（section、区段）。比如章节、页眉、页脚或文档中的其他部分。</li>
<li>‘<code><source></code>‘为媒介元素（比如 <video> 和 <audio>）定义媒介资源。</audio></video></li>
<li>‘<code><time></time></code>‘定义一个日期/时间，该元素能够以机器可读的方式对日期和时间进行编码，举例说，用户代理能够把生日提醒或排定的事件添加到用户日程表中，搜索引擎也能够生成更智能的搜索结果。</li>
<li>‘<code><address></address></code>‘ 表明作者的名字等详细信息</li>
<li>‘<code><legend></legend></code>‘表单的标题</li>
<li>‘<code><fieldset></fieldset></code>‘带标题的表单框要配合legend使用</li>
<li>‘<code><tbody><tfoot></tfoot></tbody></code>‘表格的时候使用，搭配th来表明表格的表头，身体，尾部</li>
</ol>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/03/15/gulp的使用方法/">
  <time datetime="2016-03-15T15:40:24.000Z">
    2016-03-15
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2016/03/15/gulp的使用方法/">gulp的使用方法</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>基本用法<br>// gulpfile.js<br>gulp.task(‘foo’, function() {<br>    gulp.src(glob)<br>        .pipe(…)<br>        .pipe(…)<br>        .pipe(gulp.dest(…))<br>        .pipe(…)<br>        .pipe(gulp.dest(…))<br>});</p>
<p>// shell<br>$ gulp foo<br>基本 API<br>gulp.src(glob[, options])<br>根据 glob 匹配文件，返回 stream，可以通过 .pipe() 方法传递给后续的插件。<br>gulp.dest(path[, options])<br>一般用法 .pipe(gulp.dest(path))，把 pipe 中的内容按照指定的 path 写成文件，会自动创建不存在的文件夹。<br>注意，可以通过 .pipe 多次指定输出的地方，具体请看 这里<br>gulp.task(name[, deps], fn)<br>定义名为 name 的任务，定义之后就可以在命令行中使用 gulp xxx 来执行任务。<br>deps 里面的任务全部完成后才会执行 fn<br>deps 里面的任务都是并行执行的，如果需要顺序执行，需要特殊写法。具体看 这里<br>gulp.watch(glob[, opts, cb])<br>监听文件变化<br>不会监听新文件（目录），所以一般你会需要 gulp-watch<br>常用命令 （自定义）</p>
<h1 id="for_development_mode">for development mode</h1><p>gulp server</p>
<h1 id="run_test">run test</h1><p>gulp test</p>
<h1 id="for_production_mode">for production mode</h1><p>gulp build<br>gulp server 流程<br>把 less, sass, 之类的文件编译成 CSS，常用插件：<br>gulp-less<br>gulp-sass<br>创建 Web Server (with Live Reload)，常用：<br>gulp-connect，用来创建 Web Server，其实还有其他选择的，但多数都是利用 connect 来创建 Web Server 的。<br>node-proxy-middle，用来代理请求，可以把 /api/xxx 发送到指定的地址。(常用于 SPA 开发)<br>connect-modrewrite，匹配资源，如果不匹配就可以重定向到指定地址。(常用于 SPA 开发)<br>connect-history-api-fallback，作用同上，也用于匹配资源，但用起来简单很多。(常用于 SPA 开发)<br>监听文件变化，常用插件：<br>gulp-watch<br>示例代码<br>gulp.task(‘clean:css’, function () {<br>    del.sync(‘app/styles/*.css’);<br>});</p>
<p>gulp.task(‘less’, [‘clean:css’], function () {<br>    var stream = gulp<br>            .src(‘app/styles/main.less’)<br>            .pipe(less())<br>            .pipe(gulp.dest(‘app/styles/‘));<br>    return stream;<br>});</p>
<p>gulp.task(‘connect’, function () {<br>    connect.server({<br>        root: ‘./app’,<br>        port: 9000,<br>        livereload: true,<br>        middleware: function (connect, o) {<br>            return [<br>                (function () {<br>                    var url = require(‘url’);<br>                    var proxy = require(‘proxy-middleware’);<br>                    var options = url.parse(‘<a href="http://localhost:3000/api" target="_blank" rel="external">http://localhost:3000/api</a>‘);<br>                    options.route = ‘/api’;<br>                    return proxy(options);<br>                })(),<br>                modRewrite([<br>                    ‘!\.html|\.js|\.css|\.swf|\.jp(e?)g|\.png|\.gif|\.eot|\.woff|\.ttf|\.svg$ /index.html’<br>                ])<br>            ];<br>        }<br>    });<br>});</p>
<p>gulp.task(‘watch’, function () {<br>    gulp<br>        .src(‘app/styles/<strong>/*.less’, {read: false})<br>        .pipe(watch(‘app/styles/</strong>/*.less’, function () {<br>            return gulp<br>                .src(‘app/styles/main.less’)<br>                .pipe(less())<br>                .pipe(gulp.dest(‘app/styles/‘))<br>                .pipe(connect.reload());<br>        }));</p>
<pre><code>gulp
    .src(['app/scripts/<span class="keyword">*</span><span class="keyword">*</span>/<span class="keyword">*</span>.js', 'app/<span class="keyword">*</span><span class="keyword">*</span>/<span class="keyword">*</span>.html'])
    .pipe(watch(['app/scripts/<span class="keyword">*</span><span class="keyword">*</span>/<span class="keyword">*</span>.js', 'app/<span class="keyword">*</span><span class="keyword">*</span>/<span class="keyword">*</span>.html']))
    .pipe(plumber())
    .pipe(connect.reload());
</code></pre><p>});</p>
<p>gulp.task(‘server’, [‘less’, ‘connect’, ‘watch’]);<br>gulp build 流程<br>清理 dist/ 文件夹<br>del，根据 glob 来删除文件/目录<br>压缩文件<br>gulp-htmlmin，压缩 html 文件<br>gulp-minify-html，同上<br>gulp-cssmin，压缩 css 文件<br>gulp-minify-css，同上，封装了 clean-css，star 比上面的多<br>gulp-uglify，混淆 JavaScript 代码<br>gulp-usemin，合并指定 block 中的文件<br>gulp-rev，给静态文件加上版本号，如 app.js -&gt; app-d41d8cd98f.js<br>复制其他文件到 dist/<br>gulp.src(…).pipe(gulp.dest(…))<br>实例代码<br>gulp.task(‘clean:build’, function () {<br>    del.sync(‘dist/‘, {force: true});<br>});</p>
<p>gulp.task(‘minify’, [‘clean:build’, ‘less’], function () {<br>    gulp<br>        .src(‘app/views/<em>*/</em>.html’)<br>        .pipe(htmlmin({collapseWhitespace: true}))<br>        .pipe(gulp.dest(‘dist/views’));</p>
<pre><code><span class="tag">gulp</span>
    <span class="class">.src</span>(<span class="string">'app/index.html'</span>)
    <span class="class">.pipe</span>(<span class="function">usemin</span>({
        <span class="attribute">js</span>: [<span class="function">uglify</span>(), <span class="function">rev</span>()],
        <span class="attribute">css</span>: [<span class="function">minifyCss</span>(), <span class="string">'concat'</span>, <span class="function">rev</span>()]
    }))
    <span class="class">.pipe</span>(gulp.<span class="function">dest</span>(<span class="string">'dist/'</span>));
</code></pre><p>});</p>
<p>gulp.task(‘copyfonts’, function () {<br>    gulp<br>        .src(‘app/styles/fonts/*’)<br>        .pipe(gulp.dest(‘dist/fonts/‘));<br>});</p>
<p>gulp.task(‘build’, [‘clean:build’, ‘minify’, ‘copyfonts’]);</p>
<p>转载自 scarlex 的文章 利用gulp处理前端工作流程 </p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/03/14/创建六边形div/">
  <time datetime="2016-03-14T15:41:26.000Z">
    2016-03-14
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2016/03/14/创建六边形div/">创建六边形div</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>#如何创建一个六边形的div<br>要创建一个六边形的div就要求使用到CSS3<br>中的旋转属性。六边形的div可以被分解为3个矩形重叠而成。<br><img src="../img/1.png" alt=""><br>通过图片可以发现，由于div之间的层叠遮挡关系，实际上能展示出来的区域<br>只有大概其中的1/2。<br><img src="../img/2.png" alt=""><br>所以在设置div的大笑的时候首先，要比预计的六边形要大2倍。第二长宽比要保证是在4:3否则便就对不齐了。<br>当前提都做好后，就要开始应用旋转了。通过计算得出，每两个矩形div之间要形成60度的夹角。</p>
<pre><code>
    transform: rotate(120deg);
</code></pre>
在使用css3时记住要进行兼容性检查，通过添加-webkit-等后缀避免页面出错。
继续话题，如果3个div是各自独立的话，那么可以想象出在最表面的那个div会不受限制，把其中的所有内容都展现出来，为了解决这个问题，就要将这些div嵌套起来。
<pre><code>
        <div class="box box-first ">
                        <div class="boxF">
                            <div class="boxS">
                                <div class="boxT ">
                                    <div class="border borderF "></div>
                                    <div class="border borderS "></div>
                                    <div class="border borderT "></div>
                                    <img src="" style="height: 100%;" class="blur background">
                                    <div class="overlay col-xs-3">
                                        <a href="#"></a>
                                    </div>

                                </div>
                            </div>
                        </div>
</div></code></pre>
通过嵌套的div+css设置为overflow：hidden，就能起到了父div在一个方向上限制子div的内容展现。从而达成最内部的div只能显示为一个6边形。
PS。为了帮div设置边框也是在耗费了一定的时间，由于是通过各div间互相制约制作的，所以要帮其添加边框就不能够采取直接在div上添加border属性，只能够在其内部另外在设置3个只有短边有border的div来形成边框效果。
css：<pre><code>
       .clear {
                clear: both;
            }

            .background {
                display: inline-block;
            }

            .box {
                float: left;
                z-index: 6;
                display: none;
            }

            .lineF,
            .lineS {
                position: absolute;
                visibility: visible;
                z-index: 5;
            }

            .box-first,
            .box-second {
                margin-left: -webkit-calc(50% - 300px);
                margin-left: -moz-calc(50% - 300px);
                margin-left: calc(50% - 300px);
            }

            .boxMore {
                margin-left: -webkit-calc(50% - 200px);
                margin-left: -moz-calc(50% - 200px);
                margin-left: calc(50% - 200px);
            }

            .lineS {
                top: 172px;
                left: 116px;
            }

            .boxF,
            .boxS,
            .boxT,
            .overlay {
                width: 200px;
                height: 250px;
                overflow: hidden;
            }

            .boxF,
            .boxS {
                visibility: hidden;
            }

            .boxF {
                transform: rotate(120deg);
                float: left;
                margin-left: 0px;
                -ms-transform: rotate(120deg);
                -moz-transform: rotate(120deg);
                -webkit-transform: rotate(120deg);
            }

            .boxS {
                transform: rotate(-60deg);
                -ms-transform: rotate(-60deg);
                -moz-transform: rotate(-60deg);
                -webkit-transform: rotate(-60deg);
            }

            .boxT {
                transform: rotate(-60deg);
                background: no-repeat 50% center;
                background-size: cover;
                -ms-transform: rotate(-60deg);
                -moz-transform: rotate(-60deg);
                -webkit-transform: rotate(-60deg);
                visibility: visible;
            }

            .overlay {
                transition: all 250ms ease-in-out 0s;
                display: inline-block;
                position: absolute;
                z-index: 7;
                text-align: center;
                top: 0px;
            }

            .overlay a {
                display: none;
                border-radius: 3px;
                line-height: 32px;
                text-decoration: none;
                color: White;
                font-size: 18px;
                font-weight: bolder;
                margin-top: 110px;
            }

            .overlay:hover a {
                color: white;
                display: inline-block;
            }

            .border {
                border-top: 0px;
                border-bottom: 0px;
                border-left: 3px solid white;
                border-right: 3px solid white;
                position: absolute;
                z-index: 6;
                width: 200px;
                height: 115px;
                top: 27%;
            }

            .borderS {
                transform: rotate(60deg);
                -ms-transform: rotate(60deg);
                -moz-transform: rotate(60deg);
                -webkit-transform: rotate(60deg);
            }

            .borderT {
                transform: rotate(120deg);
                -ms-transform: rotate(120deg);
                -moz-transform: rotate(120deg);
                -webkit-transform: rotate(120deg);
            }
</code></pre>
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/11/22/js中的call和apply的作用/">
  <time datetime="2015-11-22T11:39:57.000Z">
    2015-11-22
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/11/22/js中的call和apply的作用/">js中的call和apply的作用 </a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>这两个方法都是每个函数都自带的方法，用途都是在特定的时候调用函数，同时修改this的指向，<br>避免传入参数的不正确。同时还能够对一个原本不含有某个方法的函数，调用这个方法。<br>例子：<br>    function Animal(){<br>    this.name = “Animal”;<br>    this.showName = function(){<br>        alert(this.name);<br>    }<br>    }    </p>
<pre><code>function Cat(){    
    this.name = <span class="string">"Cat"</span>;    
}    

var <span class="keyword">animal</span> = new <span class="keyword">Animal</span>();    
var cat = new Cat();    

//输入结果为<span class="string">"Cat"</span>    
<span class="keyword">animal</span>.showName.call(cat,<span class="string">","</span>);    
//<span class="keyword">animal</span>.showName.apply(cat,<span class="comment">[]</span>);  
</code></pre><p>在这里，通过call或apply方法，将原本属于Animal对象的showName()方法交给对象cat来使用了。<br>而且还能实现继承。<br>例子：<br>      function Animal(name){<br>        this.name = name;<br>        this.showName = function(){<br>            alert(this.name);<br>        }<br>    }      </p>
<pre><code>function Cat(name){    
    <span class="keyword">Animal</span>.call(this, name);    
}      

var cat = new Cat(<span class="string">"Black Cat"</span>);     
cat.showName();
</code></pre><p> Animal.call(this) 的意思就是使用 Animal对象代替this对象，那么 Cat中不就有Animal的所有属性和方法了吗，Cat对象就能够直接调用Animal的方法以及属性了.<br>区别：apply()接收两个参数，一个是函数运行的作用域(this)，另一个是参数数组。<br>call()方法第一个参数与apply()方法相同，但传递给函数的参数必须列举出来。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/10/22/css-hack效果/">
  <time datetime="2015-10-22T14:51:59.000Z">
    2015-10-22
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/10/22/css-hack效果/">css hack效果</a></h1>
  

  </header>
  
  <div class="entry">
    
      <ul>
<li><a href="https://css-tricks.com/examples/ShapesOfCSS/" target="_blank" rel="external">https://css-tricks.com/examples/ShapesOfCSS/</a></li>
</ul>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/09/24/《H5核心技术》梗概/">
  <time datetime="2015-09-24T08:39:41.000Z">
    2015-09-24
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/09/24/《H5核心技术》梗概/">《H5核心技术》梗概</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>##canvas画布<br>画布的大小不要用css调整，一定要在标签中定义，否则会导致缩放问题。</p>
<hr>
<p>##由canvas创建一幅可另存为到本地的图片<br>利用<code>toDataURL()</code>接口，向网页中加入一个不可见的图像元素，有id值但是没有src属性。用css调整图像的位置与大小，让其覆盖在canvas上，提供<br>截图按钮。要截图的时候，用该接口向img的src提供值，同时img变可见，隐藏canvas。</p>
<hr>
<p>##创建离屏canvas<br>优势，把背景存放在<code>display:none</code>的canvas中提高动画的运行效率。</p>
<hr>
<p>##渐变色与图案<br><code>createLinearGradient()</code>(线性)和<code>createRadialGradient()</code>(放射性)中的addcolorstop即可设置颜色停止点在渐变线上的位置。</p>
<hr>
<p>##路径的闭合<br>要用beginpath()或者clearRect()来清除路径，否则rect()，lineTO()新开的路径会自动连接到上一次创建的路径的末端。用closePath则可以吧<br>有缺口的路径自动进行闭合。arc()方法默认以逆时针来进行绘制路径，arcTo()可以画一段圆角，以所给的两个点以及画的圆角的半径来作为参数。而在进行fill()的时候<br>路径会自动闭合而且会以逆时针的方式顺着线，然后在左边进行填充。</p>
<hr>
<p>##剪辑区域制作动画<br>利用clip()来调整需要剪辑的区域，然后使用clearRect()来清除掉内容。注意：调用clip()的时候记住要用save()和restore()来包裹住<br>他，否则由于clip()具有把剪辑区域设置为当前剪辑区域与当前路径的交集，那么剪辑区域会变得越来越小，而这是无法改变的。</p>
<hr>
<p>##文本编辑<br>文本编辑的时候光标的位置不要用measureText()来确定位置，因为这样只是测量了文本的宽度，而事实上用fillText()来渲染的时候可能会超出<br>文本的宽度。而在需要精确文本坐标的时候（要实现橡皮擦，删除文字的时候），最好是把该区域用clip()直接把整个区域的内容都擦除。</p>
<hr>
<p>##图像绘制的安全问题<br>canvas会通过设置origin-clean的标志位，如果用过drawImage()的话这个标志位就会变成false，在再次调用<code>toDataURL()</code>的时候就会出错。<br>而且为了防止网页中的恶意代码会篡改本地的文件系统，浏览器会把用户的文件系统与运行程序环境进行隔离，而在开发的时候可以通过设置在命令行中<br>以“–allow-file-access-from-files”参数来启动chrome浏览器让其绕开绘图安全机制。</p>
<hr>
<p>##性能对比</p>
<p>###使用getImageData()和drawImageData()时<br>1.不要频繁的使用getImageData()来获取少量数据，这样会使网页加载缓慢。<br>2.避免在循环体内直接访问对象的属性而应该将其存在局部变量中。<br>3.应该是用循环计数器来遍历完整的像素，而不是像素分量（红绿蓝，Alpha）。<br>4.不必使用逆向遍历和移位技巧。</p>
<hr>
<p>##绘制动画<br>通过使用“polyfill”方法（即另外写一个实现动画函数其中要包括（requestAnimationFrame||window.webkitRequestAnimationFrame||<br>window.mozRequestAnimationFrame||window.MsRequestAnimationFrame||一个使用settimeout的函数））来实现动画，这样才能避免由于浏览器兼容性问题。<br>浏览器会自动使用双缓冲区模式来绘制动画，所以不要重复手动创建一个所有内容都重新绘制的缓冲区。但是，在一些小部件上使用多重缓冲区依然能够使效率得到提升。</p>
<hr>
<p>##碰撞检测<br>外界矩形判别法，即两个凸多边形的话从每条边上作发现为投影轴，检测每个多边形在投影轴上的投影是否有分离，如有分离则未碰撞。<br>外界圆判别法，直接计算圆心距。<br>最小平移法：直接求定点到边的最小距离。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/09/20/浏览器类型检测方法/">
  <time datetime="2015-09-20T12:43:18.000Z">
    2015-09-20
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/09/20/浏览器类型检测方法/">浏览器类型检测方法</a></h1>
  

  </header>
  
  <div class="entry">
    
      
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/09/20/js中！！的作用/">
  <time datetime="2015-09-20T09:21:26.000Z">
    2015-09-20
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/09/20/js中！！的作用/">js中！！的作用</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>双感叹号可用作对于表达式的强制类型转换，简单例子：<br>    !!(a &amp; 16）<br>在这里这个表达式返回的是数值，但是经过双感叹号的转换后就能够变成true。<br>在下例中<br>    function isHostMethod(object,property) {<br>    var t = typeof object[property];<br>    return t==’function’ || (!!(t==’object’&amp;&amp;object[property]))||t == ‘unknown’;<br>    }<br>而且，检测的时候通过使用双逻辑非操作符来得到布尔值会比先存储后访问的效果更好。<br>解释：在执行逻辑表达式的时候，由逻辑表达式的规则可得出：<br>1.如果第一个操作数是对象，那么就返回第二个操作数；<br>2.如果两个操作数都是对象，则返回第二个操作数（意味着逻辑表达式不一定返回TF）；<br>而第一个！可以根据非得规则，把返回的对象或者NAN，undefined，转变为TF。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/09/13/进度条控件/">
  <time datetime="2015-09-13T15:43:02.000Z">
    2015-09-13
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/09/13/进度条控件/">进度条控件</a></h1>
  

  </header>
  
  <div class="entry">
    
      <pre><code><span class="keyword">var</span>  COREHTML5 = COREHTML5 || {};
COREHTML5.RoundedRectangle = <span class="function"><span class="keyword">function</span> (<span class="params">strokeStyle,fillStyle,horizontalSizePercent,verticalSizePercent</span>)</span>{
    <span class="keyword">this</span>.strokeStyle = strokeStyle ?strokeStyle :<span class="string">'gray'</span>;
    <span class="keyword">this</span>.fillStyle = fillStyle? fillStyle :<span class="string">'skyblue'</span>;
    horizontalSizePercent = horizontalSizePercent ||<span class="number">100</span>;
    verticalSizePercent = verticalSizePercent ||<span class="number">100</span>;
    <span class="keyword">this</span>.SHADOW_COLOR = <span class="string">'rgba(100,100,100,0.8)'</span>;
    <span class="keyword">this</span>.SHADOW_OFFSET_X = <span class="number">3</span>;
    <span class="keyword">this</span>.SHADOW_OFFSET_Y = <span class="number">3</span>;
    <span class="keyword">this</span>.SHADOW_BLUR = <span class="number">3</span>;
    <span class="keyword">this</span>.setSizePercents(horizontalSizePercent,verticalSizePercent);
    <span class="keyword">this</span>.createCanvas();
    <span class="keyword">this</span>.createDOMElement();
    <span class="keyword">return</span> <span class="keyword">this</span>;

}
COREHTML5.RoundedRectangle.prototype = {
    createCanvas: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);
        <span class="keyword">this</span>.context = canvas.getContext(<span class="string">'2d'</span>);
        <span class="keyword">return</span> canvas;
    },
    createDOMElement: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">this</span>.domElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);
        <span class="keyword">this</span>.domElement.appendChild(<span class="keyword">this</span>.context.canvas);
    },
    appendTo : <span class="function"><span class="keyword">function</span> (<span class="params">element</span>)</span>{
        element.appendChild(<span class="keyword">this</span>.domElement);
        <span class="keyword">this</span>.domElement.style.width = element.offsetWidth +<span class="string">'px'</span>;
        <span class="keyword">this</span>.dimElement.style.height = element.offsetHeight + <span class="string">'px'</span>;
        <span class="keyword">this</span>.resize(element.offsetWidth,element.offsetHeight);
    },
    resize :<span class="function"><span class="keyword">function</span> (<span class="params">width,height</span>) </span>{
        <span class="keyword">this</span>.HORIZONTAL_MARGIN = (width - width *<span class="keyword">this</span>.horizontalSizePercent)/<span class="number">2</span>;
        <span class="keyword">this</span>.VERTICAL_MARGIN = (height - height *<span class="keyword">this</span>.verticalSizePercent)/<span class="number">2</span>;
        <span class="keyword">this</span>.cornerRadius = (<span class="keyword">this</span>.context.canvas.height/<span class="number">2</span> - <span class="number">2</span>*<span class="keyword">this</span>.VERTICAL_MARGIN)/<span class="number">2</span>;
        <span class="keyword">this</span>.top = <span class="keyword">this</span>.VERTICAL_MARGIN;
        <span class="keyword">this</span>.left = <span class="keyword">this</span>.HORIZONTAL_MARGIN;
        <span class="keyword">this</span>.right = <span class="keyword">this</span>.left + width- <span class="number">2</span>*<span class="keyword">this</span>.HORIZONTAL_MARGIN;
        <span class="keyword">this</span>.bottom = <span class="keyword">this</span>.top + height -<span class="number">2</span>*<span class="keyword">this</span>.VERTICAL_MARGIN;
        <span class="keyword">this</span>.context.canvas.width = width;
        <span class="keyword">this</span>.context.canvas.height = height;
    },
    setSizePercents : <span class="function"><span class="keyword">function</span> (<span class="params">h,v</span>) </span>{
        <span class="keyword">this</span>.horizontalSizePercent = h &gt;<span class="number">1</span>? h/<span class="number">100</span>:h;
        <span class="keyword">this</span>.verticalSizePercent = v&gt;<span class="number">1</span> ?v/<span class="number">100</span>:v;

    },
    fill :<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">var</span> radius = (<span class="keyword">this</span>.bottom - <span class="keyword">this</span>.top)/<span class="number">2</span>;
        <span class="keyword">this</span>.context.save();
        <span class="keyword">this</span>.context.shadowColor = <span class="keyword">this</span>.SHADOW_COLOR;
        <span class="keyword">this</span>.context.shadowOffsetX = <span class="keyword">this</span>.SHADOW_OFFSET_X;
        <span class="keyword">this</span>.context.shadowOffsetY = <span class="keyword">this</span>.SHADOW_OFFSET_Y;
        <span class="keyword">this</span>.context.shadowBlur = <span class="number">6</span>;
        <span class="keyword">this</span>.context.beginPath();
        <span class="keyword">this</span>.context.moveTo(<span class="keyword">this</span>.left + radius ,<span class="keyword">this</span>.top);
        <span class="keyword">this</span>.context.arcTo(<span class="keyword">this</span>.right,<span class="keyword">this</span>.top,<span class="keyword">this</span>.right,<span class="keyword">this</span>.bottom,radius);
        <span class="keyword">this</span>.context.arcTo(<span class="keyword">this</span>.right,<span class="keyword">this</span>.bottom,<span class="keyword">this</span>.left,<span class="keyword">this</span>.bottom,radius);
        <span class="keyword">this</span>.context.arcTo(<span class="keyword">this</span>.left,<span class="keyword">this</span>.bottom,<span class="keyword">this</span>.left,<span class="keyword">this</span>.top,radius);
        <span class="keyword">this</span>.context.arcTo(<span class="keyword">this</span>.left,<span class="keyword">this</span>.top,<span class="keyword">this</span>.right,<span class="keyword">this</span>.top,radius);
        <span class="keyword">this</span>.context.closePath();
        <span class="keyword">this</span>.context.fillStyle = <span class="keyword">this</span>.fillStyle;
        <span class="keyword">this</span>.context.fill();
        <span class="keyword">this</span>.context.shadowColor = <span class="literal">undefined</span>;

    },
    overlayGradient: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="built_in">console</span>.log(<span class="keyword">this</span>.left,<span class="keyword">this</span>.right,<span class="keyword">this</span>.top,<span class="keyword">this</span>.bottom);
        <span class="keyword">var</span> gradient = <span class="keyword">this</span>.context.createLinearGradient(<span class="keyword">this</span>.left,<span class="keyword">this</span>.top,<span class="keyword">this</span>.left,<span class="keyword">this</span>.bottom);
        gradient.addColorStop(<span class="number">0</span>,<span class="string">'rgba(255,255,255,0.4)'</span>);
        gradient.addColorStop(<span class="number">0.2</span>,<span class="string">'rgba(255,255,255,0.6)'</span>);
        gradient.addColorStop(<span class="number">0.25</span>,<span class="string">'rgba(255,255,255,0.7)'</span>);
        gradient.addColorStop(<span class="number">0.3</span>,<span class="string">'rgba(255,255,255,0.9)'</span>);
        gradient.addColorStop(<span class="number">0.4</span>,<span class="string">'rgba(255,255,255,0.7)'</span>);
        gradient.addColorStop(<span class="number">0.45</span>,<span class="string">'rgba(255,255,255,0.6)'</span>);
        gradient.addColorStop(<span class="number">0.6</span>,<span class="string">'rgba(255,255,255,0.4)'</span>);
        gradient.addColorStop(<span class="number">1</span>,<span class="string">'rgba(255,255,255,0.1)'</span>);
        <span class="keyword">this</span>.context.fillStyle = gradient;
        <span class="keyword">this</span>.context.fill();
        <span class="keyword">this</span>.context.lineWidth = <span class="number">0.4</span>;
        <span class="keyword">this</span>.context.strokeStyle = <span class="keyword">this</span>.strokeStyle;
        <span class="keyword">this</span>.context.stroke();
        <span class="keyword">this</span>.context.restore();
    },
    draw: <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>{
        <span class="keyword">var</span> originalContext;
        <span class="keyword">if</span> (context) {
            originalContext = <span class="keyword">this</span>.context;
            <span class="keyword">this</span>.context =context;

        } 
        <span class="keyword">this</span>.fill();
        <span class="keyword">this</span>.overlayGradient();
        <span class="keyword">if</span> (context) {
            <span class="keyword">this</span>.context = originalContext;
        }
    },
    erase: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">this</span>.context.clearRect(<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">this</span>.context.canvas.width,<span class="keyword">this</span>.context.canvas.height);
    }

};
COREHTML5.Progressbar = <span class="function"><span class="keyword">function</span> (<span class="params">strokeStyle,fillstyle,horizontalSizePercent,verticalSizePercent</span>) </span>{
    <span class="keyword">this</span>.trough = <span class="keyword">new</span> COREHTML5.RoundedRectangle(strokeStyle,fillstyle,horizontalSizePercent,verticalSizePercent);
    <span class="keyword">this</span>.SHADOW_COLOR = <span class="string">'rgba(255,255,255,0.5)'</span>;
    <span class="keyword">this</span>.SHADOW_BLUR = <span class="number">3</span>;
    <span class="keyword">this</span>.SHADOW_OFFSET_X = <span class="number">2</span>;
    <span class="keyword">this</span>.SHADOW_OFFSET_Y = <span class="number">2</span>;
    <span class="keyword">this</span>.percentComplete = <span class="number">0</span>;
    <span class="keyword">this</span>.createCanvas();
    <span class="keyword">this</span>.createDOMElement();

    <span class="keyword">return</span> <span class="keyword">this</span>;
}
COREHTML5.Progressbar.prototype = {
    createDOMElement:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
        <span class="keyword">this</span>.domElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);
        <span class="keyword">this</span>.domElement.appendChild(<span class="keyword">this</span>.context.canvas)
    },
    createCanvas :<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">this</span>.context = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);
        <span class="keyword">this</span>.offscreen = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);
    },
    appendTo: <span class="function"><span class="keyword">function</span> (<span class="params">element</span>)</span>{
        element.appendChild(<span class="keyword">this</span>.domElement);
        <span class="keyword">this</span>.domElement.style.width = element.offsetWidth + <span class="string">'px'</span> ;
        <span class="keyword">this</span>.domElement.style.height = element.offsetHeight + <span class="string">'px'</span>;
        <span class="keyword">this</span>.resize();
        <span class="keyword">this</span>.trough.resize(element.offsetWidth,element.offsetHeight);
        <span class="keyword">this</span>.trough.draw(<span class="keyword">this</span>.offscreen);
    },
    setCanvasSize: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">var</span> domElementParent = <span class="keyword">this</span>.domElement.parentNode;
        <span class="keyword">this</span>.context.canvas.width = domElementParent.offsetWidth;
        <span class="keyword">this</span>.context.canvas.height = domElementParent.offsetHeight;
    },
    resize: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
        <span class="keyword">var</span> domElementParent = <span class="keyword">this</span>.domElement.parentNode,
        w = domElementParent.offsetWidth,
        h = domElementParent.offsetHeight;
        <span class="keyword">this</span>.setCanvasSize();
        <span class="keyword">this</span>.context.canvas.width = w;
        <span class="keyword">this</span>.context.canvas.height = h;
        <span class="keyword">this</span>.offscreen.canvas.width = w;
        <span class="keyword">this</span>.offscreen.canvas.height = h;


    },
    draw:<span class="function"><span class="keyword">function</span> (<span class="params">percentComplete</span>) </span>{
        <span class="keyword">if</span>(percentComplete &gt; <span class="number">0</span>){
            <span class="keyword">this</span>.context.drawImage(<span class="keyword">this</span>.offscreen.canvas,<span class="number">0</span>,<span class="number">0</span>,
                <span class="keyword">this</span>.offscreen.canvas.width*(percentComplete/<span class="number">100</span>),<span class="keyword">this</span>.offscreen.canvas.height,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">this</span>.offscreen.canvas.width*(percentComplete/<span class="number">100</span>),<span class="keyword">this</span>.offscreen.canvas.height);

        }
    },
    erase:<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>{
        <span class="keyword">this</span>.context.clearRect(<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">this</span>.context.canvas.width,<span class="keyword">this</span>.context.canvas.height);
    },
};
<span class="keyword">var</span> startButton = <span class="built_in">document</span>.getElementById(<span class="string">'startButton'</span>),
    loadingSpan = <span class="built_in">document</span>.getElementById(<span class="string">'loadingSpan'</span>),
    progressbar = <span class="keyword">new</span> COREHTML5.Progressbar(<span class="string">'rgba(0,0,0,0.2)'</span>,<span class="string">'teal'</span>,<span class="number">90</span>,<span class="number">70</span>),
    percentComplete = <span class="number">0</span>;
    startButton.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{
        loadingSpan.style.display = <span class="string">'inline'</span>;
        startButton.style.display = <span class="string">'none'</span>;
        percentComplete += <span class="number">1.0</span>;
        <span class="keyword">if</span>( percentComplete &gt;<span class="number">100</span>) {
            percentComplete = <span class="number">0</span>;
            loadingSpan.style.display = <span class="string">'none'</span>;
            startButton.style.display = <span class="string">'inline'</span>;
        }
        <span class="keyword">else</span>{
            progressbar.erase();
            progressbar.draw(percentComplete);
            requestAnimationFrame(startButton.onclick);
        }
    };
    progressbar.appendTo(<span class="built_in">document</span>.getElementById(<span class="string">'progressbarDiv'</span>));
</code></pre>
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/09/10/google浏览器控制台debug/">
  <time datetime="2015-09-10T15:54:40.000Z">
    2015-09-10
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/09/10/google浏览器控制台debug/">google浏览器控制台debug</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>单击行数可以打断点,选择变量右键可在右侧的watch窗口里监控变量值的变化。<br>network内可以观察文件加载，在一般的与后台交互过程中可用于API请求的查看。</p>
<p>source内可以添加本地站点,可以实现一个在线编辑器的功能,用谷歌浏览器就可以调试，<br>修改后右键fold即可复制站点到本地。</p>
<p>控制台的做上端手机图标能够进入移动端的调试页面。自定义页面宽度以及触摸行为。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
  
    <a href="/page/2/" class="next">下一页</a>
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2016 <a href="/">kyjo2014</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>